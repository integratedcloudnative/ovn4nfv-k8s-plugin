FROM rtsood/nfn-tools:0.1

ARG HTTP_PROXY=${HTTP_PROXY}
ARG HTTPS_PROXY=${HTTPS_PROXY}

ENV http_proxy $HTTP_PROXY
ENV https_proxy $HTTPS_PROXY
ENV no_proxy $NO_PROXY

ENV OPERATOR=/usr/local/bin/nfn-operator \
    AGENT=/usr/local/bin/nfn-agent \
    USER_UID=1001 \
    USER_NAME=nfn-operator

# install operator binary
COPY bin/nfn-operator ${OPERATOR}

COPY bin /usr/local/bin

ENTRYPOINT ["/usr/local/bin/entrypoint"]
